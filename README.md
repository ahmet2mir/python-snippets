
# Python Snippets

A collection of Python function I use daily with examples, lint and tests.

Examples are described in the snippet docstring (in the README too) and could be located in `main` folder.

Tests are done with [tox](http://tox.testrun.org/) using [pytest](http://pytest.org/latest/) and [coverage](https://github.com/pytest-dev/pytest-cov) plugins.

_**Snippets summary:**_

* [Flat unflat dict](#flat-unflat-dict): Create a flat dict and unflat it.Could be useful if you use a key/value storage.

## Flat unflat dict

Create a flat dict and unflat it.
Could be useful if you use a key/value storage.

Based on mythsmith comment on http://stackoverflow.com/a/6027615

python:

- 2.6
- 2.7
- 3.4
- 3.5

requirements:

- tox

author: Ahmet Demir <me@ahmet2mir.eu>

Example:

    >>> data = {
            "key1": {
                "key11": {
                    "key111": "value111"
                },
                "key12": {
                    "key121": "value121"
                }
            },
            "key2": ["one","two", "three"]
        }

    >>> print(flat(data))
    {'key2': ['one', 'two', 'three'],
     'key1_key12_key121': 'value121',
     'key1_key11_key111': 'value111'}

In this case the list is not flat beacause you probably
wan't to make another work like a join on it.

If you wan't a "real" flat, use the param `full`.
The key will be append with the item position number in bracket.

    >>> print(flat(data, full=True))
    {'key1_key11_key111': 'value111',
     'key1_key12_key121': 'value121',
     'key2[1]': 'two',
     'key2[2]': 'three',
     'key2[0]': 'one'}

Of course the separator could be customized with `separator` param.
Example, if you prefer the dot

    >>> print(flat(data, full=True, separator="."))
    {'key1.key11.key111': 'value111',
     'key1.key12.key121': 'value121',
     'key2[1]': 'two',
     'key2[2]': 'three',
     'key2[0]': 'one'}

You could also use different separator for the full flat
with param `lseparator`

    >>> print(flat(data, full=True, lseparator=('{', '}')))
    {'key1_key11_key111': 'value111',
     'key1_key12_key121': 'value121',
     'key2{1}': 'two',
     'key2{0}': 'one',
     'key2{2}': 'three'}

And finally, unflat it:

    >>> flat_data = flat(data, full=True)
    >>> print(unflat(flat_data))
    {
        'key1': {
            'key11': {
                'key111': 'value111'
            },
            'key12': {
                'key121': 'value121'
            }
        },
        'key2': ['one', 'two', 'three']
    }


## License

Licensed under the [Apache License](http://en.wikipedia.org/wiki/Apache_License)
, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may obtain
a copy of the License at http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.

Generated by `gen_readme.py` at 2016-07-22T12:24:52.301Z
